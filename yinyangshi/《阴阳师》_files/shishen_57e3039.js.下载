"use strict";nie.define("Shishen",function(){var e=null,i=!1,s=nie.require("nie.util.PopDialog"),a=nie.require("Scroll");s.config({theme:"yellow"});var t=function(e){n(),l(e)},n=function(){function e(){var e=t.val();""!=e?window.open("//yys.163.com/shishen/index.html?name="+e,"_blank"):s.Alert("\u8bf7\u8f93\u5165\u5f0f\u795e\u540d\u79f0")}var t=$(".shishen_search .keyword");$(".shishen_search .search_btn").click(function(){e()}),$(".shishen_search .keyword").keypress(function(i){13==i.which&&e()}),$(".shishen_tabs a").click(function(){var e=$(this),i=e.data("tab"),s=e.data("ld"),n=e.data("mt");t.val(""),e.addClass("cur").siblings().removeClass("cur"),r({level:i,interactive:s,material:n}),a.update()}),$(".wrap").on("click",".shishen_list li",function(){var e=$(this),i=e.data("id"),s=$('#shishenBigImg .bigImg_list .bigImg_item[data-id="'+i+'"]').index();$(".ss_all").hide(),$("#shishenBigImg").stop().fadeIn(1e3),$("#shishenBigImg .bigImg_list_tab span").eq(s).click(),a.update()}).on("click",".toList",function(){$("#shishenBigImg").hide(),i||(r(),i=!0),$(".ss_all").stop().fadeIn(1e3),a.update()}),$(".ss_control_btn").bind("click",function(){a.update()})},l=function(i){$.getJSON("https://yys.res.netease.com/pc/gw/20180913151832/js/app/shishen.json?v=30",function(s){e=s,console.log(e),$(".toList").removeClass("hide"),h(),i&&i()})},h=function(){var i=[];i=e;for(var s="",a="",t=i.length,n=0;t>n;n++){var l=i[n].id,h=i[n].name,r="//yys.163.com/shishen/"+l+".html";s+='<div class="bigImg_item" data-id="'+l+'" data-name="'+h+'">                <div class="big_container">                    <a href="'+r+'" target="_blank" class="item_name">                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/name/'+l+'.png?1" alt="'+h+'"/>                    </a >                    <a href="'+r+'" target="_blank" class="item_role">                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/role/'+l+'.png?1" alt="'+h+'"/>                    </a >                </div></div>',a+="<span></span>"}$("#shishenBigImg .bigImg_list").html(s),$("#shishenBigImg .bigImg_list_tab").html(a),$("#shishenBigImg .bigImg_wrap").slide({titCell:".bigImg_list_tab span",mainCell:".bigImg_list",prevCell:".bigImg_btn_left",nextCell:".bigImg_btn_right",switchLoad:"_src",delayTime:500,trigger:"click",easing:"swing",effect:"fold",startFun:function(e){var i=$("#shishenBigImg .bigImg_list .bigImg_item"),s=i.eq(e);i.find(".item_name").removeClass("on"),i.find(".item_role").removeClass("on"),setTimeout(function(){s.find(".item_name").addClass("on"),s.find(".item_role").addClass("on")},500);var a,n;a=i.eq(e-1).data("name"),n=e>=t-1?i.eq(0).data("name"):i.eq(e+1).data("name"),$("#shishenBigImg .bigImg_btn_left p").html(a),$("#shishenBigImg .bigImg_btn_right p").html(n)}})},r=function(i){function s(e){if(e&&null!=e){var i="<i class='icon-new'></i>";return i}return""}var a=[];if(void 0==i||"all"==i.level)if(void 0!=i&&void 0!=i.interactive)for(var t=0;t<e.length;t++)void 0!=e[t].interactive&&a.push(e[t]);else if(void 0!=i&&void 0!=i.material)for(var t=0;t<e.length;t++)void 0!=e[t].material&&a.push(e[t]);else a=e;else if(void 0!=i.level)for(var t=0;t<e.length;t++)e[t].level==i.level&&void 0==e[t].interactive&&void 0==e[t].material&&a.push(e[t]);else if(void 0!=i.name)for(var t=0;t<e.length;t++)e[t].name.indexOf(i.name)>-1&&a.push(e[t]);for(var n="",l=a.length,t=0;l>t;t++)n+=(t+1)%27==1?'<ul><li data-id="'+a[t].id+'"><a href="javascript:;" class="shishen_item">                            <span class="tb"></span>                            <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/shishen/'+a[t].id+'.png?" alt="'+a[t].name+'">'+s(a[t].isNew)+'</a>                            <p class="td">'+a[t].name+"</p>                            </li>":(t+1)%27==0?'<li data-id="'+a[t].id+'"><a href="javascript:;" class="shishen_item">                        <span class="tb"></span>                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/shishen/'+a[t].id+'.png?" alt="'+a[t].name+'">'+s(a[t].isNew)+'</a>                        <p class="td">'+a[t].name+"</p>                        </li></ul>":'<li data-id="'+a[t].id+'"><a href="javascript:;" class="shishen_item">                        <span class="tb"></span>                        <img _src="https://yys.res.netease.com/pc/gw/20180913151832/data/shishen/'+a[t].id+'.png?" alt="'+a[t].name+'">'+s(a[t].isNew)+'</a>                        <p class="td">'+a[t].name+"</p>                        </li>";l%27!=0&&(n+="</ul>"),n=""==n?'<p class="no_result">\u672a\u641c\u7d22\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u5f0f\u795e\uff01</p>':n,$(".shishen_wrap").html('<div class="shishen_list clr">'+n+"</div>"),setTimeout(function(){$(".shishen_list").addClass("show")},200),$(".shishenlist_container").slide({mainCell:".shishen_list",autoPage:!0,effect:"left",pnLoop:!1,delayTime:400,easing:"swing",prevCell:".ss_prev",nextCell:".ss_next",switchLoad:"_src"})};t()});